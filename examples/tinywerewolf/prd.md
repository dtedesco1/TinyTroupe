Product Requirements Document (PRD)

Product Name: AI Werewolf Terminal Game

Introduction:

Develop a terminal-based Werewolf game where AI agents play alongside a human player. The game will utilize the TinyTroupe package to simulate AI agents with distinct personalities, interests, and goals. The objective is to create an engaging social deduction experience that mirrors the traditional Werewolf (also known as Mafia) gameplay.

Table of Contents

 1. Objectives
 2. User Stories
 3. Functional Requirements
 4. Non-Functional Requirements
 5. Technical Requirements
 6. Game Mechanics
 7. AI Agent Design
 8. User Interface
 9. Testing and Validation
 10. Risks and Mitigations
 11. Timeline
 12. Appendices

Objectives

 • Primary Objective: Create a terminal-based Werewolf game where a human player interacts with AI agents simulated using TinyTroupe.
 • Secondary Objectives:
 • Leverage TinyTroupe to generate AI agents with unique personas.
 • Implement standard Werewolf game mechanics.
 • Ensure the game is engaging, challenging, and replayable.

User Stories

 1. As a player, I want to play Werewolf with AI agents so that I can enjoy the game solo.
 2. As a player, I want AI characters to have unique personalities to make the game more immersive.
 3. As a player, I want clear instructions and feedback so that I understand how to play and make decisions.
 4. As a developer, I want the game to be easily maintainable and extendable for future enhancements.

Functional Requirements

Game Setup

 • FR1: The game shall allow the human player to enter their name.
 • FR2: The game shall randomly assign roles to all players (AI and human).
 • FR3: The game shall support a minimum of 5 players (1 human + 4 AI agents).

Roles and Characters

 • FR4: The game shall include the following roles:
 • Villager
 • Werewolf
 • Seer
 • FR5: The AI agents shall have unique personas generated by TinyTroupe.

Game Phases

 • FR6: The game shall consist of two phases:
 • Night Phase
 • Werewolves select a victim.
 • The Seer can inquire about a player’s role.
 • Day Phase
 • Players discuss and vote to eliminate a suspect.
 • AI agents engage in conversation based on their personas.
 • The human player can participate in discussions.

Communication

 • FR7: The AI agents shall communicate with each other and the human player during discussions.
 • FR8: The human player shall have options to respond or initiate dialogue.

Voting System

 • FR9: During the day phase, all players shall vote to eliminate a suspect.
 • FR10: The game shall handle voting ties appropriately (e.g., no elimination or random selection).

Game Conclusion

 • FR11: The game shall end when:
 • All werewolves are eliminated (Villagers win).
 • Werewolves equal or outnumber villagers (Werewolves win).
 • FR12: The game shall display a summary of the game outcome.

Additional Functionalities

 • FR13: The game shall log all interactions for potential review.
 • FR14: The game shall allow the player to play again or exit after a game concludes.

Non-Functional Requirements

 • NFR1: The game shall have minimal latency between interactions.
 • NFR2: The AI agents’ responses shall be contextually appropriate and align with their personas.
 • NFR3: The game shall be user-friendly with clear instructions and prompts.
 • NFR4: The game shall handle invalid inputs gracefully.
 • NFR5: The game shall ensure content generated is appropriate and free from offensive language.

Technical Requirements

 • Programming Language: Python 3.10 or higher.
 • Libraries and Packages:
 • TinyTroupe
 • OpenAI or Azure OpenAI Service APIs
 • Environment: Cross-platform (Windows, macOS, Linux) terminal application.
 • Configuration:
 • API keys and endpoints set via environment variables or configuration files.
 • TinyTroupe’s config.ini file for model parameters and settings.

Game Mechanics

Roles Description

 • Villager: Must identify and eliminate werewolves.
 • Werewolf: Secretly eliminate villagers during the night.
 • Seer: Can discover a player’s true role once per night.

Phases Breakdown

Night Phase

 1. Werewolves Act:
 • Werewolf AI agents decide collectively on a victim.
 2. Seer’s Vision:
 • If the human player is the Seer, prompt them to choose a player to reveal.
 • If an AI agent is the Seer, they use TinyTroupe to decide whom to investigate.

Day Phase

 1. Discussion:
 • AI agents engage in conversation using TinyTroupe, guided by their personas.
 • The human player participates by typing responses.
 2. Voting:
 • All players vote on a player to eliminate.
 • Votes are tallied, and the player with the most votes is eliminated.
 • Reveal the eliminated player’s role.

AI Agent Design

 • Persona Creation:
 • Use TinyPersonFactory to generate AI agents with diverse backgrounds and personalities.
 • Define traits such as honesty, suspicion, aggressiveness, or deceitfulness.
 • Memory and State:
 • Agents remember previous events, accusations, and interactions.
 • Behavior Modeling:
 • AI agents act according to their roles and personas.
 • Werewolves attempt to deflect suspicion.
 • Villagers and Seer try to identify werewolves.

User Interface

 • Display:
 • Clear text-based interface.
 • Distinct formatting for different types of messages (e.g., system prompts, AI dialogues, user input).
 • User Input:
 • Simple prompts for the human player to make decisions.
 • Options presented as numbered lists when appropriate.
 • Feedback:
 • Inform the player of game events (e.g., “The night has ended…”, “Player X was eliminated…”).

Testing and Validation

 • Unit Testing:
 • Test individual functions (e.g., role assignment, voting mechanics).
 • Integration Testing:
 • Ensure all components work together seamlessly.
 • User Acceptance Testing:
 • Have users play the game to gather feedback on gameplay and usability.

Risks and Mitigations

 • High API Usage Costs:
 • Mitigation: Implement caching mechanisms for LLM responses.
 • Inappropriate Content Generation:
 • Mitigation: Utilize content filters provided by the OpenAI API.
 • Latency Due to API Calls:
 • Mitigation: Optimize code and minimize unnecessary API requests.
 • Complexity of AI Interactions:
 • Mitigation: Start with simpler dialogues and incrementally enhance agent interactions.

Timeline

 • Week 1:
 • Set up the development environment.
 • Familiarize with TinyTroupe and API integrations.
 • Design game architecture and data models.
 • Week 2:
 • Implement game setup and role assignment.
 • Develop night phase mechanics.
 • Week 3:
 • Implement day phase discussions and voting.
 • Integrate AI agent communication using TinyTroupe.
 • Week 4:
 • Testing and debugging.
 • Improve user interface and experience.
 • Week 5:
 • Finalize documentation.
 • Conduct user acceptance testing.
 • Prepare for deployment.

Appendices

Appendix A: Configuration Settings

 • API Keys:
 • Instructions on setting OPENAI_API_KEY or AZURE_OPENAI_KEY.
 • TinyTroupe Configurations:
 • Sample config.ini file with recommended settings.

Appendix B: External Dependencies

 • TinyTroupe:
 • Installation guide.
 • Link to documentation and examples.

Appendix C: Future Enhancements

 • Additional Roles:
 • Introduce roles like Guardian, Witch, or Hunter.
 • Graphical User Interface:
 • Develop a GUI version of the game using libraries like Tkinter or PyQt.
 • Multiplayer Support:
 • Enable multiple human players over a network.
 • Advanced AI Behaviors:
 • Implement learning algorithms for AI agents to adapt over multiple games.

Note to Developer:

 • Ensure compliance with TinyTroupe’s legal disclaimer and content policies.
 • Maintain code readability with proper documentation and comments.
 • Keep scalability in mind for potential future enhancements.
